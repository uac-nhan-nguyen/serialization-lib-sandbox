import * as cardano from '@emurgo/cardano-serialization-lib-nodejs';
import {bytesToHex, hexToBytes, SignedData, utf8Decode} from "./src/utils.js";

console.log('test')
const plutusHex = "5912550100003323322333222332233223232333222323332223233333333222222223233322232333322223232332232333222323332223232332233223232333332222233223322332233223322332222323232323232232232325335303833300d3333573466e1cd55cea805a400046666664444446666660ba00c00a0080060040026eb8d5d0a8059bad35742a0146eb8d5d0a8049bae35742a0106eb8d5d0a8039bad357426ae89401c8d4138d4c13ccd5ce2490350543100050499263333573466e1d40112002205423333573466e1d40152000205623504f353050335738921035054310005149926498cccd5cd19b8735573aa004900011980819191919191919191919191999ab9a3370e6aae75402920002333333333301e33502c232323333573466e1cd55cea80124000466048607e6ae854008c0c4d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80519a8160169aba150093335503375ca0646ae854020ccd540cdd728191aba1500733502c04835742a00c66a05866aa0b20a2eb4d5d0a8029919191999ab9a3370e6aae754009200023350263232323333573466e1cd55cea80124000466a05c66a08eeb4d5d0a80118261aba135744a00446a0c46a60c666ae712401035054310006449926135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae7540092000233502c33504775a6ae854008c130d5d09aba250022350623530633357389201035054310006449926135573ca00226ea8004d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80219a8163ae35742a00666a05866aa0b2eb88004d5d0a801181f1aba135744a00446a0b46a60b666ae71241035054310005c49926135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a8011919191999ab9a3370ea00290031181198201aba135573ca00646666ae68cdc3a801240084604460946ae84d55cf280211999ab9a3370ea006900111811181a9aba135573ca00a46666ae68cdc3a802240004604a6eb8d5d09aab9e50062350553530563357389201035054310005749926499264984d55cea80089baa001357426ae8940088d4138d4c13ccd5ce249035054310005049926104f13504d35304e3357389201035054350004f4984d55cf280089baa001135573a6ea80044d5d1280089aba25001135744a00226ae8940044d55cf280089baa0012212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001122123300100300212001122123300100300212001122123300100300212001212222300400521222230030052122223002005212222300100520011232230023758002640026aa072446666aae7c004940388cd4034c010d5d080118019aba200203323232323333573466e1cd55cea801a4000466600e6464646666ae68cdc39aab9d5002480008cc034c0c4d5d0a80119a8098169aba135744a00446a06c6a606e66ae71241035054310003849926135573ca00226ea8004d5d0a801999aa805bae500a35742a00466a01eeb8d5d09aba25002235032353033335738921035054310003449926135744a00226aae7940044dd50009110919980080200180110009109198008018011000899aa800bae75a224464460046eac004c8004d540cc88c8cccd55cf80112804919a80419aa81898031aab9d5002300535573ca00460086ae8800c0b84d5d08008891001091091198008020018900089119191999ab9a3370ea002900011a80418029aba135573ca00646666ae68cdc3a801240044a01046a0526a605466ae712401035054310002b499264984d55cea80089baa001121223002003112200112001232323333573466e1cd55cea8012400046600c600e6ae854008dd69aba135744a00446a0466a604866ae71241035054310002549926135573ca00226ea80048848cc00400c00880048c8cccd5cd19b8735573aa002900011bae357426aae7940088d407cd4c080cd5ce24810350543100021499261375400224464646666ae68cdc3a800a40084a00e46666ae68cdc3a8012400446a014600c6ae84d55cf280211999ab9a3370ea00690001280511a8111a981199ab9c490103505431000244992649926135573aa00226ea8004484888c00c0104488800844888004480048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188d4068d4c06ccd5ce249035054310001c499264984d55ce9baa0011220021220012001232323232323333573466e1d4005200c200b23333573466e1d4009200a200d23333573466e1d400d200823300b375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c46601a6eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc048c050d5d0a8049bae357426ae8940248cccd5cd19b875006480088c050c054d5d09aab9e500b23333573466e1d401d2000230133016357426aae7940308d407cd4c080cd5ce2481035054310002149926499264992649926135573aa00826aae79400c4d55cf280109aab9e500113754002424444444600e01044244444446600c012010424444444600a010244444440082444444400644244444446600401201044244444446600201201040024646464646666ae68cdc3a800a400446660106eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002300a300b357426aae7940188d4040d4c044cd5ce2490350543100012499264984d55cea80189aba25001135573ca00226ea80048488c00800c888488ccc00401401000c80048c8c8cccd5cd19b875001480088c018dd71aba135573ca00646666ae68cdc3a80124000460106eb8d5d09aab9e500423500a35300b3357389201035054310000c499264984d55cea80089baa001212230020032122300100320011122232323333573466e1cd55cea80124000466aa016600c6ae854008c014d5d09aba25002235007353008335738921035054310000949926135573ca00226ea8004498480048004448848cc00400c008448004488008488004800488888848cccccc00401c01801401000c0088004448c8c00400488cc00cc008008004cc8ccc888c8cc88c8cc88c8c8c8c8c8c8c8c8c8c8cc88ccc888ccc888ccc888cccccccc88888888cc88ccccc88888cccc8888cc88cc88cc88ccc888cc88cc88ccc888cc88cc88cc88cc88c8c8c8cc88c8c8c8c8cccc8888c8cc88c8c8c888c8c8c8c8c888c94cd4c13c00c54cd4c1914cd4c190ccd5cd19b8733301c33355301012001500c50283300b533535026353020500122222222220031350604988854cd4d40a00044008884d41912650013530520092222220043530520092222220034800819819441984cd5ce2481154e4654206e6f742073656e7420746f206275796572000651533530645335306433054301d33301c33355301012001500c50283300b35305200922222200650014881004881003305833058301d500850045006106613357389210f53656c6c6572206e6f742070616964000651533530645335306433054301d33301c332233355301212001500e502a3300d001002500100a489004881005004106613357389210c466565206e6f742070616964000651533530645335306453353064333573466e24d4c1480248888880052000065066133054301d33301c33355301012001500c50283300b353052009222222002500148900488100500610661066133573892113526f79616c6974696573206e6f74207061696400065153353064333573466e24c8cc8004c8004ccd54c05c48004c8cd407088ccd407000c004008d4064004cd406c888c00cc008004800488cdc0000a40040029000199aa98080900091299a9833299a9a8179a98131a981200111000911000908348833899a8148010008800a8141a98101a980f001110011111111111005240040cc0ca20cc266ae7124011a4d6f7265207468616e206f6e652073637269707420696e70757400065106510651065106515335306433223530220022222222222533535039333553022120013350262253353503b002210031001503a253353071333573466e3c0300041cc1c84d40f0004540ec00c841cc41c54004d4c14802488888801841984cd5ce2481204e6f2072696768747320746f20706572666f726d207468697320616374696f6e00065135301d001220021533530603305150565001150011505613305233057480a120d00f3018500315335305e3304f5055500115001150551330503305535304b002222222001483403cc05940044d4c12800488888801488d4c05c0048888888888ccd54c0444800488d4c09c008888d4c0c400c88cd4c15000894cd4c1b4ccd5cd19b8f01400106f06e13350300050071007200750290091223355300b120012353550200012233550230023355300e12001235355023001223355026002333535500d0012330564800000488cc15c0080048cc15800520000013355300b12001235355020001223355023002333535500a00123355300f120012353550240012233550270023550110010012233355500801600200123355300f1200123535502400122335502700235500f00100133355500301100200111122233355300612001501d3355300b1200123535502000122335502300235500d001333553006120012235355021002225335305e33355301012001323350152233353500b0032200200200135350090012200133500922533530600021062100105f235355024001223300a00200500610031335021004003501e0013355300b120012353550200012232335502400330010053200135506022533535021001135500d0032213535502600222533530633300c002008133550120070011300600300212212330010030021200132001355057221122253353501b00110022213300500233355300712001005004001112122230030041122122233002005004112122230010041120013200135505222112253353501500115017221335018300400233553006120010040013200135505122112225335350150011350060032213335009005300400233355300712001005004001123535003001220011235350020012200212212330010030021200122333573466e3c008004134130888c8c8c004014c8004d5413c88cd4d4040005200022353550150022253353052333573466e3c00802415014c4c01c0044c01800cc8004d5413888cd4d403c005200022353550140022253353051333573466e3c00801c14c14840044c01800c8cd411800520022212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001222123330010040030022001112200212212233001004003120011122123300100300211200122123300100300220011212230020031122001120011221233001003002120011221233001003002120011221233001003002120011212223003004112220021122200112001212222300400521222230030052122223002005212222300100520012212330010030022001212222222300700822122222223300600900821222222230050081222222200412222222003221222222233002009008221222222233001009008200121223002003222122333001005004003200121223002003212230010032001122002122001200122222212333333001007006005004003002200122353500f002223535011003223253353017333573466e1c01400c06406054cd4c05cccd5cd19b870040020190181019150011500115335301633330080040030020011017101822353500e0022235350100032233330070040030020012222333573466e24cdc100200099b8200200301401322353500c00222353500e003223300c3370400800466e0800c00488d4d402c00888d4d403400c88cc02ccdc099b820040013370400400666e0800c00488cdc00010008998012410112f49001099800a410112f49001111980199b820025335300a333573466e1c005200000c00b14800054cd4c028ccd5cd19b890014800002c03052002133702900024004a66a6014666ae68cdc4000a4000018016266e052000001100122325335300a333573466e1c009200000c00b135006353004335738920103505433000054984cd4020cdc2001a80099b84002500113300853353009333573466e20009200000b00a13370290000010801299a9804999ab9a337100029000005805099b8148000004400448004800449848848cc00400c00848004c8004d540108894cd4c010ccd5cd19b870014800001801440084cc00c004cdc2801000891001091000900088919180080091198019801001000a451c70e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a720001"
const buyTransaction = "84a70082825820d0b098d848391c4aec3109996823e04e590d4a47f654441dbdeb62494b66f23300825820916bc39495bbd7b11e9c9070b40f04c98338d7a5f13b7eb97e8a446a8fc49fef0101858258390170e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a721e78aae7c90cc36d624f7b3bb6d86b52696dc84e490f343eba89005f1a000f4240825839019ba63cdec15c28d1d5430eb6c8e2ee92e7c0c16b8429f8c6b01c0dcebfa361cdde8590f3617e67fbdb9f6e5d2f11ced6afc7a1b9eff2a59d1a000f424082583901d707c543c07c85432594e2ef229b3aab60327afa36437f84a292e96641ef1360d92a308cf674293dd4a9956db9a8924c19359708355ff4071a007a12008258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a001c41caa1581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa4057a14b416e64656c733034373733018258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a010eab0ca4581c104897b2b9940da29a79930ea91e906bf7eefe0d8c9f087d9273255ca14d53757065724368756d3230333101581c402b4e61ada43dca2badfbfd39091dce405ac691304382a0da09ab57a24e414441424c4f434b533030333935014e414441424c4f434b53303035353601581c95d9a98c2f7999a3d5e0f4d795cb1333837c09eb0f24835cd2ce954ca258194772616e646d6173746572416476656e7475726572313137370158194772616e646d6173746572416476656e74757265723639343601581cf4988f549728dc76b58d7677849443caf6e5385dc67e6c25f6aa901ea44b506978656c54696c653138014b506978656c54696c653235034b506978656c54696c653238024b506978656c54696c65353701021a000fbe9d075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6c0b582090667accb48a91fdb2d0af56fd8ff7a957fa2eb85b57cd1ba5939548345e47cc0d81825820c2ec50fed8f5f6c679757ca7d413732f2cd96be56c252bb492abfb221446e671000e81581c87b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d6a303815912585912550100003323322333222332233223232333222323332223233333333222222223233322232333322223232332232333222323332223232332233223232333332222233223322332233223322332222323232323232232232325335303833300d3333573466e1cd55cea805a400046666664444446666660ba00c00a0080060040026eb8d5d0a8059bad35742a0146eb8d5d0a8049bae35742a0106eb8d5d0a8039bad357426ae89401c8d4138d4c13ccd5ce2490350543100050499263333573466e1d40112002205423333573466e1d40152000205623504f353050335738921035054310005149926498cccd5cd19b8735573aa004900011980819191919191919191919191999ab9a3370e6aae75402920002333333333301e33502c232323333573466e1cd55cea80124000466048607e6ae854008c0c4d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80519a8160169aba150093335503375ca0646ae854020ccd540cdd728191aba1500733502c04835742a00c66a05866aa0b20a2eb4d5d0a8029919191999ab9a3370e6aae754009200023350263232323333573466e1cd55cea80124000466a05c66a08eeb4d5d0a80118261aba135744a00446a0c46a60c666ae712401035054310006449926135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae7540092000233502c33504775a6ae854008c130d5d09aba250022350623530633357389201035054310006449926135573ca00226ea8004d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80219a8163ae35742a00666a05866aa0b2eb88004d5d0a801181f1aba135744a00446a0b46a60b666ae71241035054310005c49926135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a8011919191999ab9a3370ea00290031181198201aba135573ca00646666ae68cdc3a801240084604460946ae84d55cf280211999ab9a3370ea006900111811181a9aba135573ca00a46666ae68cdc3a802240004604a6eb8d5d09aab9e50062350553530563357389201035054310005749926499264984d55cea80089baa001357426ae8940088d4138d4c13ccd5ce249035054310005049926104f13504d35304e3357389201035054350004f4984d55cf280089baa001135573a6ea80044d5d1280089aba25001135744a00226ae8940044d55cf280089baa0012212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001122123300100300212001122123300100300212001122123300100300212001212222300400521222230030052122223002005212222300100520011232230023758002640026aa072446666aae7c004940388cd4034c010d5d080118019aba200203323232323333573466e1cd55cea801a4000466600e6464646666ae68cdc39aab9d5002480008cc034c0c4d5d0a80119a8098169aba135744a00446a06c6a606e66ae71241035054310003849926135573ca00226ea8004d5d0a801999aa805bae500a35742a00466a01eeb8d5d09aba25002235032353033335738921035054310003449926135744a00226aae7940044dd50009110919980080200180110009109198008018011000899aa800bae75a224464460046eac004c8004d540cc88c8cccd55cf80112804919a80419aa81898031aab9d5002300535573ca00460086ae8800c0b84d5d08008891001091091198008020018900089119191999ab9a3370ea002900011a80418029aba135573ca00646666ae68cdc3a801240044a01046a0526a605466ae712401035054310002b499264984d55cea80089baa001121223002003112200112001232323333573466e1cd55cea8012400046600c600e6ae854008dd69aba135744a00446a0466a604866ae71241035054310002549926135573ca00226ea80048848cc00400c00880048c8cccd5cd19b8735573aa002900011bae357426aae7940088d407cd4c080cd5ce24810350543100021499261375400224464646666ae68cdc3a800a40084a00e46666ae68cdc3a8012400446a014600c6ae84d55cf280211999ab9a3370ea00690001280511a8111a981199ab9c490103505431000244992649926135573aa00226ea8004484888c00c0104488800844888004480048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188d4068d4c06ccd5ce249035054310001c499264984d55ce9baa0011220021220012001232323232323333573466e1d4005200c200b23333573466e1d4009200a200d23333573466e1d400d200823300b375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c46601a6eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc048c050d5d0a8049bae357426ae8940248cccd5cd19b875006480088c050c054d5d09aab9e500b23333573466e1d401d2000230133016357426aae7940308d407cd4c080cd5ce2481035054310002149926499264992649926135573aa00826aae79400c4d55cf280109aab9e500113754002424444444600e01044244444446600c012010424444444600a010244444440082444444400644244444446600401201044244444446600201201040024646464646666ae68cdc3a800a400446660106eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002300a300b357426aae7940188d4040d4c044cd5ce2490350543100012499264984d55cea80189aba25001135573ca00226ea80048488c00800c888488ccc00401401000c80048c8c8cccd5cd19b875001480088c018dd71aba135573ca00646666ae68cdc3a80124000460106eb8d5d09aab9e500423500a35300b3357389201035054310000c499264984d55cea80089baa001212230020032122300100320011122232323333573466e1cd55cea80124000466aa016600c6ae854008c014d5d09aba25002235007353008335738921035054310000949926135573ca00226ea8004498480048004448848cc00400c008448004488008488004800488888848cccccc00401c01801401000c0088004448c8c00400488cc00cc008008004cc8ccc888c8cc88c8cc88c8c8c8c8c8c8c8c8c8c8cc88ccc888ccc888ccc888cccccccc88888888cc88ccccc88888cccc8888cc88cc88cc88ccc888cc88cc88ccc888cc88cc88cc88cc88c8c8c8cc88c8c8c8c8cccc8888c8cc88c8c8c888c8c8c8c8c888c94cd4c13c00c54cd4c1914cd4c190ccd5cd19b8733301c33355301012001500c50283300b533535026353020500122222222220031350604988854cd4d40a00044008884d41912650013530520092222220043530520092222220034800819819441984cd5ce2481154e4654206e6f742073656e7420746f206275796572000651533530645335306433054301d33301c33355301012001500c50283300b35305200922222200650014881004881003305833058301d500850045006106613357389210f53656c6c6572206e6f742070616964000651533530645335306433054301d33301c332233355301212001500e502a3300d001002500100a489004881005004106613357389210c466565206e6f742070616964000651533530645335306453353064333573466e24d4c1480248888880052000065066133054301d33301c33355301012001500c50283300b353052009222222002500148900488100500610661066133573892113526f79616c6974696573206e6f74207061696400065153353064333573466e24c8cc8004c8004ccd54c05c48004c8cd407088ccd407000c004008d4064004cd406c888c00cc008004800488cdc0000a40040029000199aa98080900091299a9833299a9a8179a98131a981200111000911000908348833899a8148010008800a8141a98101a980f001110011111111111005240040cc0ca20cc266ae7124011a4d6f7265207468616e206f6e652073637269707420696e70757400065106510651065106515335306433223530220022222222222533535039333553022120013350262253353503b002210031001503a253353071333573466e3c0300041cc1c84d40f0004540ec00c841cc41c54004d4c14802488888801841984cd5ce2481204e6f2072696768747320746f20706572666f726d207468697320616374696f6e00065135301d001220021533530603305150565001150011505613305233057480a120d00f3018500315335305e3304f5055500115001150551330503305535304b002222222001483403cc05940044d4c12800488888801488d4c05c0048888888888ccd54c0444800488d4c09c008888d4c0c400c88cd4c15000894cd4c1b4ccd5cd19b8f01400106f06e13350300050071007200750290091223355300b120012353550200012233550230023355300e12001235355023001223355026002333535500d0012330564800000488cc15c0080048cc15800520000013355300b12001235355020001223355023002333535500a00123355300f120012353550240012233550270023550110010012233355500801600200123355300f1200123535502400122335502700235500f00100133355500301100200111122233355300612001501d3355300b1200123535502000122335502300235500d001333553006120012235355021002225335305e33355301012001323350152233353500b0032200200200135350090012200133500922533530600021062100105f235355024001223300a00200500610031335021004003501e0013355300b120012353550200012232335502400330010053200135506022533535021001135500d0032213535502600222533530633300c002008133550120070011300600300212212330010030021200132001355057221122253353501b00110022213300500233355300712001005004001112122230030041122122233002005004112122230010041120013200135505222112253353501500115017221335018300400233553006120010040013200135505122112225335350150011350060032213335009005300400233355300712001005004001123535003001220011235350020012200212212330010030021200122333573466e3c008004134130888c8c8c004014c8004d5413c88cd4d4040005200022353550150022253353052333573466e3c00802415014c4c01c0044c01800cc8004d5413888cd4d403c005200022353550140022253353051333573466e3c00801c14c14840044c01800c8cd411800520022212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001222123330010040030022001112200212212233001004003120011122123300100300211200122123300100300220011212230020031122001120011221233001003002120011221233001003002120011221233001003002120011212223003004112220021122200112001212222300400521222230030052122223002005212222300100520012212330010030022001212222222300700822122222223300600900821222222230050081222222200412222222003221222222233002009008221222222233001009008200121223002003222122333001005004003200121223002003212230010032001122002122001200122222212333333001007006005004003002200122353500f002223535011003223253353017333573466e1c01400c06406054cd4c05cccd5cd19b870040020190181019150011500115335301633330080040030020011017101822353500e0022235350100032233330070040030020012222333573466e24cdc100200099b8200200301401322353500c00222353500e003223300c3370400800466e0800c00488d4d402c00888d4d403400c88cc02ccdc099b820040013370400400666e0800c00488cdc00010008998012410112f49001099800a410112f49001111980199b820025335300a333573466e1c005200000c00b14800054cd4c028ccd5cd19b890014800002c03052002133702900024004a66a6014666ae68cdc4000a4000018016266e052000001100122325335300a333573466e1c009200000c00b135006353004335738920103505433000054984cd4020cdc2001a80099b84002500113300853353009333573466e20009200000b00a13370290000010801299a9804999ab9a337100029000005805099b8148000004400448004800449848848cc00400c00848004c8004d540108894cd4c010ccd5cd19b870014800001801440084cc00c004cdc2801000891001091000900088919180080091198019801001000a451c70e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a7200010481d866820086581cd707c543c07c85432594e2ef229b3aab60327afa36437f84a292e9661a00989680581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa40574b416e64656c733034373733581c9ba63cdec15c28d1d5430eb6c8e2ee92e7c0c16b8429f8c6b01c0dce18190581840001d866820080821a006acfc01ab2d05e00f5a0"

const txId = cardano.TransactionHash.from_bech32('addr16k0cjm9l09ymfvezt2ud7j8jcrqj2j09er0028rw8t04qx2zh5vs3cp0xs');
const txin = cardano.TransactionInput.new(txId, 0);
console.log(txin.index());

const asset = cardano.Assets.new();

export function deconstructTx(transactionHex) {
  const expectTx = cardano.Transaction.from_bytes(hexToBytes(transactionHex));
  const ans = {
    inputs: [],
    outputs: [],
  };


  console.log('INPUTS', expectTx.body().inputs().len());
  for (let i = 0; i < expectTx.body().inputs().len(); i++) {
    console.log(i, bytesToHex(expectTx.body().inputs().get(i).transaction_id().to_bytes()));
    console.log(i, 'INDEX', expectTx.body().inputs().get(i).index());

    ans.inputs.push({
      transactionId: bytesToHex(expectTx.body().inputs().get(i).transaction_id().to_bytes()),
      index: expectTx.body().inputs().get(i).index(),
    })
  }

  console.log('OUTPUTS', expectTx.body().outputs().len());
  for (let i = 0; i < expectTx.body().outputs().len(); i++) {
    console.log(i, expectTx.body().outputs().get(i).address().to_bech32('addr'));
    console.log(i, expectTx.body().outputs().get(i).amount().coin().to_str());
    const out = {
      address: expectTx.body().outputs().get(i).address().to_bech32('addr'),
      amount: expectTx.body().outputs().get(i).amount().coin().to_str(),
    }

    const multiAsset = expectTx.body().outputs().get(i).amount().multiasset();
    if (multiAsset) {
      out.multiasset = [];
      console.log(i, 'ASSETS', multiAsset.len());
      for (let j = 0; j < multiAsset.len(); j++) {
        const policyId = multiAsset.keys().get(j);
        console.log(i, j, 'ASSET-POLICY', bytesToHex(policyId.to_bytes()));
        const assetsJson  = {
          policyId: bytesToHex(policyId.to_bytes()),
            assets: [],
        }
        /// AS JSON

        let assets = multiAsset.get(policyId);
        console.log(i, j, 'LEN ASSETS', assets.len());
        for (let k = 0; k < assets.len(); k++) {
          const assetK = assets.keys().get(k);
          const assetHex = bytesToHex(assetK.to_bytes())
          console.log(i, j, k, assetHex, Buffer.from(assetK.name()).toString());

          const asset = assets.get(assetK);

          assetsJson.assets.push({
            assetName: Buffer.from(assetK.name()).toString(),
            quantity: asset.to_str(),
          });
        }

        out.multiasset.push(assetsJson);
      }
    }

    ans.outputs.push(out);
  }

  console.log("FEE", expectTx.body().fee().to_str())

  const metaHash = expectTx.body().auxiliary_data_hash()

  console.log('METADATA HASH', bytesToHex(metaHash.to_bytes()))

  const aux = expectTx.auxiliary_data();
  if (aux != null) {
    console.log('AUX', aux.metadata().keys().len())
    for (let i = 0; i < aux.metadata().len(); i++) {
      const meta = aux.metadata().get(aux.metadata().keys().get(i));
      console.log(meta.kind())
    }
  }
  return ans;
}

// const finalTx = cardano.Transaction.new();

// const datumAda = cardano.TransactionMetadatum.new_int(10000000);

const datumJson = cardano.TransactionMetadatum.new_text('{"price": 10000000}');
// const datum = cardano.TransactionMetadatum.from_bytes(hexToBytes('d866820086581c37013f98af557ecec1f2907d9eed1911dd8edb17e1ea3b17f4f3e7eb1a0aba9500581c023cec350597bdf2a2b6945e62e0111d9808caf7a9353a2ab91e8beb4f534f434945545932354c4d42353536581c63a3bc3807c6a51f85570ad9a82ed46bdb96feeabae6c4aa0526d4ed181e'))


// const buyTx = "84a70082825820d0b098d848391c4aec3109996823e04e590d4a47f654441dbdeb62494b66f23300825820916bc39495bbd7b11e9c9070b40f04c98338d7a5f13b7eb97e8a446a8fc49fef0101858258390170e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a721e78aae7c90cc36d624f7b3bb6d86b52696dc84e490f343eba89005f1a000f4240825839019ba63cdec15c28d1d5430eb6c8e2ee92e7c0c16b8429f8c6b01c0dcebfa361cdde8590f3617e67fbdb9f6e5d2f11ced6afc7a1b9eff2a59d1a000f424082583901d707c543c07c85432594e2ef229b3aab60327afa36437f84a292e96641ef1360d92a308cf674293dd4a9956db9a8924c19359708355ff4071a007a12008258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a001c41caa1581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa4057a14b416e64656c733034373733018258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a010eab0ca4581c104897b2b9940da29a79930ea91e906bf7eefe0d8c9f087d9273255ca14d53757065724368756d3230333101581c402b4e61ada43dca2badfbfd39091dce405ac691304382a0da09ab57a24e414441424c4f434b533030333935014e414441424c4f434b53303035353601581c95d9a98c2f7999a3d5e0f4d795cb1333837c09eb0f24835cd2ce954ca258194772616e646d6173746572416476656e7475726572313137370158194772616e646d6173746572416476656e74757265723639343601581cf4988f549728dc76b58d7677849443caf6e5385dc67e6c25f6aa901ea44b506978656c54696c653138014b506978656c54696c653235034b506978656c54696c653238024b506978656c54696c65353701021a000fbe9d075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6c0b582090667accb48a91fdb2d0af56fd8ff7a957fa2eb85b57cd1ba5939548345e47cc0d81825820c2ec50fed8f5f6c679757ca7d413732f2cd96be56c252bb492abfb221446e671000e81581c87b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d6a303815912585912550100003323322333222332233223232333222323332223233333333222222223233322232333322223232332232333222323332223232332233223232333332222233223322332233223322332222323232323232232232325335303833300d3333573466e1cd55cea805a400046666664444446666660ba00c00a0080060040026eb8d5d0a8059bad35742a0146eb8d5d0a8049bae35742a0106eb8d5d0a8039bad357426ae89401c8d4138d4c13ccd5ce2490350543100050499263333573466e1d40112002205423333573466e1d40152000205623504f353050335738921035054310005149926498cccd5cd19b8735573aa004900011980819191919191919191919191999ab9a3370e6aae75402920002333333333301e33502c232323333573466e1cd55cea80124000466048607e6ae854008c0c4d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80519a8160169aba150093335503375ca0646ae854020ccd540cdd728191aba1500733502c04835742a00c66a05866aa0b20a2eb4d5d0a8029919191999ab9a3370e6aae754009200023350263232323333573466e1cd55cea80124000466a05c66a08eeb4d5d0a80118261aba135744a00446a0c46a60c666ae712401035054310006449926135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae7540092000233502c33504775a6ae854008c130d5d09aba250022350623530633357389201035054310006449926135573ca00226ea8004d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80219a8163ae35742a00666a05866aa0b2eb88004d5d0a801181f1aba135744a00446a0b46a60b666ae71241035054310005c49926135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a8011919191999ab9a3370ea00290031181198201aba135573ca00646666ae68cdc3a801240084604460946ae84d55cf280211999ab9a3370ea006900111811181a9aba135573ca00a46666ae68cdc3a802240004604a6eb8d5d09aab9e50062350553530563357389201035054310005749926499264984d55cea80089baa001357426ae8940088d4138d4c13ccd5ce249035054310005049926104f13504d35304e3357389201035054350004f4984d55cf280089baa001135573a6ea80044d5d1280089aba25001135744a00226ae8940044d55cf280089baa0012212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001122123300100300212001122123300100300212001122123300100300212001212222300400521222230030052122223002005212222300100520011232230023758002640026aa072446666aae7c004940388cd4034c010d5d080118019aba200203323232323333573466e1cd55cea801a4000466600e6464646666ae68cdc39aab9d5002480008cc034c0c4d5d0a80119a8098169aba135744a00446a06c6a606e66ae71241035054310003849926135573ca00226ea8004d5d0a801999aa805bae500a35742a00466a01eeb8d5d09aba25002235032353033335738921035054310003449926135744a00226aae7940044dd50009110919980080200180110009109198008018011000899aa800bae75a224464460046eac004c8004d540cc88c8cccd55cf80112804919a80419aa81898031aab9d5002300535573ca00460086ae8800c0b84d5d08008891001091091198008020018900089119191999ab9a3370ea002900011a80418029aba135573ca00646666ae68cdc3a801240044a01046a0526a605466ae712401035054310002b499264984d55cea80089baa001121223002003112200112001232323333573466e1cd55cea8012400046600c600e6ae854008dd69aba135744a00446a0466a604866ae71241035054310002549926135573ca00226ea80048848cc00400c00880048c8cccd5cd19b8735573aa002900011bae357426aae7940088d407cd4c080cd5ce24810350543100021499261375400224464646666ae68cdc3a800a40084a00e46666ae68cdc3a8012400446a014600c6ae84d55cf280211999ab9a3370ea00690001280511a8111a981199ab9c490103505431000244992649926135573aa00226ea8004484888c00c0104488800844888004480048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188d4068d4c06ccd5ce249035054310001c499264984d55ce9baa0011220021220012001232323232323333573466e1d4005200c200b23333573466e1d4009200a200d23333573466e1d400d200823300b375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c46601a6eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc048c050d5d0a8049bae357426ae8940248cccd5cd19b875006480088c050c054d5d09aab9e500b23333573466e1d401d2000230133016357426aae7940308d407cd4c080cd5ce2481035054310002149926499264992649926135573aa00826aae79400c4d55cf280109aab9e500113754002424444444600e01044244444446600c012010424444444600a010244444440082444444400644244444446600401201044244444446600201201040024646464646666ae68cdc3a800a400446660106eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002300a300b357426aae7940188d4040d4c044cd5ce2490350543100012499264984d55cea80189aba25001135573ca00226ea80048488c00800c888488ccc00401401000c80048c8c8cccd5cd19b875001480088c018dd71aba135573ca00646666ae68cdc3a80124000460106eb8d5d09aab9e500423500a35300b3357389201035054310000c499264984d55cea80089baa001212230020032122300100320011122232323333573466e1cd55cea80124000466aa016600c6ae854008c014d5d09aba25002235007353008335738921035054310000949926135573ca00226ea8004498480048004448848cc00400c008448004488008488004800488888848cccccc00401c01801401000c0088004448c8c00400488cc00cc008008004cc8ccc888c8cc88c8cc88c8c8c8c8c8c8c8c8c8c8cc88ccc888ccc888ccc888cccccccc88888888cc88ccccc88888cccc8888cc88cc88cc88ccc888cc88cc88ccc888cc88cc88cc88cc88c8c8c8cc88c8c8c8c8cccc8888c8cc88c8c8c888c8c8c8c8c888c94cd4c13c00c54cd4c1914cd4c190ccd5cd19b8733301c33355301012001500c50283300b533535026353020500122222222220031350604988854cd4d40a00044008884d41912650013530520092222220043530520092222220034800819819441984cd5ce2481154e4654206e6f742073656e7420746f206275796572000651533530645335306433054301d33301c33355301012001500c50283300b35305200922222200650014881004881003305833058301d500850045006106613357389210f53656c6c6572206e6f742070616964000651533530645335306433054301d33301c332233355301212001500e502a3300d001002500100a489004881005004106613357389210c466565206e6f742070616964000651533530645335306453353064333573466e24d4c1480248888880052000065066133054301d33301c33355301012001500c50283300b353052009222222002500148900488100500610661066133573892113526f79616c6974696573206e6f74207061696400065153353064333573466e24c8cc8004c8004ccd54c05c48004c8cd407088ccd407000c004008d4064004cd406c888c00cc008004800488cdc0000a40040029000199aa98080900091299a9833299a9a8179a98131a981200111000911000908348833899a8148010008800a8141a98101a980f001110011111111111005240040cc0ca20cc266ae7124011a4d6f7265207468616e206f6e652073637269707420696e70757400065106510651065106515335306433223530220022222222222533535039333553022120013350262253353503b002210031001503a253353071333573466e3c0300041cc1c84d40f0004540ec00c841cc41c54004d4c14802488888801841984cd5ce2481204e6f2072696768747320746f20706572666f726d207468697320616374696f6e00065135301d001220021533530603305150565001150011505613305233057480a120d00f3018500315335305e3304f5055500115001150551330503305535304b002222222001483403cc05940044d4c12800488888801488d4c05c0048888888888ccd54c0444800488d4c09c008888d4c0c400c88cd4c15000894cd4c1b4ccd5cd19b8f01400106f06e13350300050071007200750290091223355300b120012353550200012233550230023355300e12001235355023001223355026002333535500d0012330564800000488cc15c0080048cc15800520000013355300b12001235355020001223355023002333535500a00123355300f120012353550240012233550270023550110010012233355500801600200123355300f1200123535502400122335502700235500f00100133355500301100200111122233355300612001501d3355300b1200123535502000122335502300235500d001333553006120012235355021002225335305e33355301012001323350152233353500b0032200200200135350090012200133500922533530600021062100105f235355024001223300a00200500610031335021004003501e0013355300b120012353550200012232335502400330010053200135506022533535021001135500d0032213535502600222533530633300c002008133550120070011300600300212212330010030021200132001355057221122253353501b00110022213300500233355300712001005004001112122230030041122122233002005004112122230010041120013200135505222112253353501500115017221335018300400233553006120010040013200135505122112225335350150011350060032213335009005300400233355300712001005004001123535003001220011235350020012200212212330010030021200122333573466e3c008004134130888c8c8c004014c8004d5413c88cd4d4040005200022353550150022253353052333573466e3c00802415014c4c01c0044c01800cc8004d5413888cd4d403c005200022353550140022253353051333573466e3c00801c14c14840044c01800c8cd411800520022212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001222123330010040030022001112200212212233001004003120011122123300100300211200122123300100300220011212230020031122001120011221233001003002120011221233001003002120011221233001003002120011212223003004112220021122200112001212222300400521222230030052122223002005212222300100520012212330010030022001212222222300700822122222223300600900821222222230050081222222200412222222003221222222233002009008221222222233001009008200121223002003222122333001005004003200121223002003212230010032001122002122001200122222212333333001007006005004003002200122353500f002223535011003223253353017333573466e1c01400c06406054cd4c05cccd5cd19b870040020190181019150011500115335301633330080040030020011017101822353500e0022235350100032233330070040030020012222333573466e24cdc100200099b8200200301401322353500c00222353500e003223300c3370400800466e0800c00488d4d402c00888d4d403400c88cc02ccdc099b820040013370400400666e0800c00488cdc00010008998012410112f49001099800a410112f49001111980199b820025335300a333573466e1c005200000c00b14800054cd4c028ccd5cd19b890014800002c03052002133702900024004a66a6014666ae68cdc4000a4000018016266e052000001100122325335300a333573466e1c009200000c00b135006353004335738920103505433000054984cd4020cdc2001a80099b84002500113300853353009333573466e20009200000b00a13370290000010801299a9804999ab9a337100029000005805099b8148000004400448004800449848848cc00400c00848004c8004d540108894cd4c010ccd5cd19b870014800001801440084cc00c004cdc2801000891001091000900088919180080091198019801001000a451c70e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a7200010481d866820086581cd707c543c07c85432594e2ef229b3aab60327afa36437f84a292e9661a00989680581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa40574b416e64656c733034373733581c9ba63cdec15c28d1d5430eb6c8e2ee92e7c0c16b8429f8c6b01c0dce18190581840001d866820080821a006acfc01ab2d05e00f5a0";
// const value = deconstructTx(buyTx);
// const data = deconstructTx('84a4008282582013acea3b54cedddf4c60f2c839acbc41866364794aecab92462a27b99be9361203825820916bc39495bbd7b11e9c9070b40f04c98338d7a5f13b7eb97e8a446a8fc49fef01018283581d714a59ebd93ea53d1bbf7f82232c7b012700a0cf4bb78d879dabb1a20a821a001c41caa1581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa4057a14b416e64656c733034373733015820831bddcf47404b3db31321c7c597a35655f6079fa14c11cd963d7860d5b2ff6a8258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a01b3edf0a4581c104897b2b9940da29a79930ea91e906bf7eefe0d8c9f087d9273255ca14d53757065724368756d3230333101581c402b4e61ada43dca2badfbfd39091dce405ac691304382a0da09ab57a24e414441424c4f434b533030333935014e414441424c4f434b53303035353601581c95d9a98c2f7999a3d5e0f4d795cb1333837c09eb0f24835cd2ce954ca258194772616e646d6173746572416476656e7475726572313137370158194772616e646d6173746572416476656e74757265723639343601581cf4988f549728dc76b58d7677849443caf6e5385dc67e6c25f6aa901ea44b506978656c54696c653138014b506978656c54696c653235034b506978656c54696c653238024b506978656c54696c65353701021a00031239075820aec09152e2a24842909c7d60c74c216d58b1aab99b3e62ae7e920f8be5854df4a0f5a80078383837623066313964653535333632313062386239396634646365373237313366626538653630343761613265663032323233336362316436016931303030303030303002783839626136336364656331356332386431643534333065623663386532656539326537633063313662383432396638633662303163306463650362323506784061646472317178726d707576617534666b79793963687830356d6e6e6a77796c6d61726e716737347a6175707a7976377472346e74306d703770677a703738730778273075706775746b686c6e6c78346668766378706c64787570386a6d3661306b6a73346a39393336087840616464723171786436763078376339777a3335773467763874646a387a613666773073787064777a7a6e3778786b7177716d6e346c356473756d6835396a72650978276b7a6c6e386c306465376d6a6139756775613434306337736d6e6d6c6a356b7773383876306463');
// deconstructTx('84a700828258201d9806a0f7be5e4b75a16ab3ba1f83431ca4471947c6abf7e01326cf3ff0b51200825820d59f896cbf7949b4b3225ab8df48f2c0c12549e5c8def51c6e3adf501942bd190001828258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da5821a001c41caa1581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa4057a14b416e64656c733034373733018258390187b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d66b7ec3e0a041f1e0fe051c5daff9fcd54dd98307ed3702796f5d7da51a015c0d9a021a000f6ccd075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6c0b5820aa6e88803b7c0c5b178184427a7f71c2df9f030e460f6fa52050e3021772bb380d81825820c2ec50fed8f5f6c679757ca7d413732f2cd96be56c252bb492abfb221446e671000e81581c87b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d6a303815912585912550100003323322333222332233223232333222323332223233333333222222223233322232333322223232332232333222323332223232332233223232333332222233223322332233223322332222323232323232232232325335303833300d3333573466e1cd55cea805a400046666664444446666660ba00c00a0080060040026eb8d5d0a8059bad35742a0146eb8d5d0a8049bae35742a0106eb8d5d0a8039bad357426ae89401c8d4138d4c13ccd5ce2490350543100050499263333573466e1d40112002205423333573466e1d40152000205623504f353050335738921035054310005149926498cccd5cd19b8735573aa004900011980819191919191919191919191999ab9a3370e6aae75402920002333333333301e33502c232323333573466e1cd55cea80124000466048607e6ae854008c0c4d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80519a8160169aba150093335503375ca0646ae854020ccd540cdd728191aba1500733502c04835742a00c66a05866aa0b20a2eb4d5d0a8029919191999ab9a3370e6aae754009200023350263232323333573466e1cd55cea80124000466a05c66a08eeb4d5d0a80118261aba135744a00446a0c46a60c666ae712401035054310006449926135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae7540092000233502c33504775a6ae854008c130d5d09aba250022350623530633357389201035054310006449926135573ca00226ea8004d5d09aba2500223505e35305f3357389201035054310006049926135573ca00226ea8004d5d0a80219a8163ae35742a00666a05866aa0b2eb88004d5d0a801181f1aba135744a00446a0b46a60b666ae71241035054310005c49926135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a8011919191999ab9a3370ea00290031181198201aba135573ca00646666ae68cdc3a801240084604460946ae84d55cf280211999ab9a3370ea006900111811181a9aba135573ca00a46666ae68cdc3a802240004604a6eb8d5d09aab9e50062350553530563357389201035054310005749926499264984d55cea80089baa001357426ae8940088d4138d4c13ccd5ce249035054310005049926104f13504d35304e3357389201035054350004f4984d55cf280089baa001135573a6ea80044d5d1280089aba25001135744a00226ae8940044d55cf280089baa0012212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001122123300100300212001122123300100300212001122123300100300212001212222300400521222230030052122223002005212222300100520011232230023758002640026aa072446666aae7c004940388cd4034c010d5d080118019aba200203323232323333573466e1cd55cea801a4000466600e6464646666ae68cdc39aab9d5002480008cc034c0c4d5d0a80119a8098169aba135744a00446a06c6a606e66ae71241035054310003849926135573ca00226ea8004d5d0a801999aa805bae500a35742a00466a01eeb8d5d09aba25002235032353033335738921035054310003449926135744a00226aae7940044dd50009110919980080200180110009109198008018011000899aa800bae75a224464460046eac004c8004d540cc88c8cccd55cf80112804919a80419aa81898031aab9d5002300535573ca00460086ae8800c0b84d5d08008891001091091198008020018900089119191999ab9a3370ea002900011a80418029aba135573ca00646666ae68cdc3a801240044a01046a0526a605466ae712401035054310002b499264984d55cea80089baa001121223002003112200112001232323333573466e1cd55cea8012400046600c600e6ae854008dd69aba135744a00446a0466a604866ae71241035054310002549926135573ca00226ea80048848cc00400c00880048c8cccd5cd19b8735573aa002900011bae357426aae7940088d407cd4c080cd5ce24810350543100021499261375400224464646666ae68cdc3a800a40084a00e46666ae68cdc3a8012400446a014600c6ae84d55cf280211999ab9a3370ea00690001280511a8111a981199ab9c490103505431000244992649926135573aa00226ea8004484888c00c0104488800844888004480048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188d4068d4c06ccd5ce249035054310001c499264984d55ce9baa0011220021220012001232323232323333573466e1d4005200c200b23333573466e1d4009200a200d23333573466e1d400d200823300b375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c46601a6eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc048c050d5d0a8049bae357426ae8940248cccd5cd19b875006480088c050c054d5d09aab9e500b23333573466e1d401d2000230133016357426aae7940308d407cd4c080cd5ce2481035054310002149926499264992649926135573aa00826aae79400c4d55cf280109aab9e500113754002424444444600e01044244444446600c012010424444444600a010244444440082444444400644244444446600401201044244444446600201201040024646464646666ae68cdc3a800a400446660106eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002300a300b357426aae7940188d4040d4c044cd5ce2490350543100012499264984d55cea80189aba25001135573ca00226ea80048488c00800c888488ccc00401401000c80048c8c8cccd5cd19b875001480088c018dd71aba135573ca00646666ae68cdc3a80124000460106eb8d5d09aab9e500423500a35300b3357389201035054310000c499264984d55cea80089baa001212230020032122300100320011122232323333573466e1cd55cea80124000466aa016600c6ae854008c014d5d09aba25002235007353008335738921035054310000949926135573ca00226ea8004498480048004448848cc00400c008448004488008488004800488888848cccccc00401c01801401000c0088004448c8c00400488cc00cc008008004cc8ccc888c8cc88c8cc88c8c8c8c8c8c8c8c8c8c8cc88ccc888ccc888ccc888cccccccc88888888cc88ccccc88888cccc8888cc88cc88cc88ccc888cc88cc88ccc888cc88cc88cc88cc88c8c8c8cc88c8c8c8c8cccc8888c8cc88c8c8c888c8c8c8c8c888c94cd4c13c00c54cd4c1914cd4c190ccd5cd19b8733301c33355301012001500c50283300b533535026353020500122222222220031350604988854cd4d40a00044008884d41912650013530520092222220043530520092222220034800819819441984cd5ce2481154e4654206e6f742073656e7420746f206275796572000651533530645335306433054301d33301c33355301012001500c50283300b35305200922222200650014881004881003305833058301d500850045006106613357389210f53656c6c6572206e6f742070616964000651533530645335306433054301d33301c332233355301212001500e502a3300d001002500100a489004881005004106613357389210c466565206e6f742070616964000651533530645335306453353064333573466e24d4c1480248888880052000065066133054301d33301c33355301012001500c50283300b353052009222222002500148900488100500610661066133573892113526f79616c6974696573206e6f74207061696400065153353064333573466e24c8cc8004c8004ccd54c05c48004c8cd407088ccd407000c004008d4064004cd406c888c00cc008004800488cdc0000a40040029000199aa98080900091299a9833299a9a8179a98131a981200111000911000908348833899a8148010008800a8141a98101a980f001110011111111111005240040cc0ca20cc266ae7124011a4d6f7265207468616e206f6e652073637269707420696e70757400065106510651065106515335306433223530220022222222222533535039333553022120013350262253353503b002210031001503a253353071333573466e3c0300041cc1c84d40f0004540ec00c841cc41c54004d4c14802488888801841984cd5ce2481204e6f2072696768747320746f20706572666f726d207468697320616374696f6e00065135301d001220021533530603305150565001150011505613305233057480a120d00f3018500315335305e3304f5055500115001150551330503305535304b002222222001483403cc05940044d4c12800488888801488d4c05c0048888888888ccd54c0444800488d4c09c008888d4c0c400c88cd4c15000894cd4c1b4ccd5cd19b8f01400106f06e13350300050071007200750290091223355300b120012353550200012233550230023355300e12001235355023001223355026002333535500d0012330564800000488cc15c0080048cc15800520000013355300b12001235355020001223355023002333535500a00123355300f120012353550240012233550270023550110010012233355500801600200123355300f1200123535502400122335502700235500f00100133355500301100200111122233355300612001501d3355300b1200123535502000122335502300235500d001333553006120012235355021002225335305e33355301012001323350152233353500b0032200200200135350090012200133500922533530600021062100105f235355024001223300a00200500610031335021004003501e0013355300b120012353550200012232335502400330010053200135506022533535021001135500d0032213535502600222533530633300c002008133550120070011300600300212212330010030021200132001355057221122253353501b00110022213300500233355300712001005004001112122230030041122122233002005004112122230010041120013200135505222112253353501500115017221335018300400233553006120010040013200135505122112225335350150011350060032213335009005300400233355300712001005004001123535003001220011235350020012200212212330010030021200122333573466e3c008004134130888c8c8c004014c8004d5413c88cd4d4040005200022353550150022253353052333573466e3c00802415014c4c01c0044c01800cc8004d5413888cd4d403c005200022353550140022253353051333573466e3c00801c14c14840044c01800c8cd411800520022212330010030022001222222222212333333333300100b00a00900800700600500400300220012212330010030022001222123330010040030022001112200212212233001004003120011122123300100300211200122123300100300220011212230020031122001120011221233001003002120011221233001003002120011221233001003002120011212223003004112220021122200112001212222300400521222230030052122223002005212222300100520012212330010030022001212222222300700822122222223300600900821222222230050081222222200412222222003221222222233002009008221222222233001009008200121223002003222122333001005004003200121223002003212230010032001122002122001200122222212333333001007006005004003002200122353500f002223535011003223253353017333573466e1c01400c06406054cd4c05cccd5cd19b870040020190181019150011500115335301633330080040030020011017101822353500e0022235350100032233330070040030020012222333573466e24cdc100200099b8200200301401322353500c00222353500e003223300c3370400800466e0800c00488d4d402c00888d4d403400c88cc02ccdc099b820040013370400400666e0800c00488cdc00010008998012410112f49001099800a410112f49001111980199b820025335300a333573466e1c005200000c00b14800054cd4c028ccd5cd19b890014800002c03052002133702900024004a66a6014666ae68cdc4000a4000018016266e052000001100122325335300a333573466e1c009200000c00b135006353004335738920103505433000054984cd4020cdc2001a80099b84002500113300853353009333573466e20009200000b00a13370290000010801299a9804999ab9a337100029000005805099b8148000004400448004800449848848cc00400c00848004c8004d540108894cd4c010ccd5cd19b870014800001801440084cc00c004cdc2801000891001091000900088919180080091198019801001000a451c70e60f3b5ea7153e0acc7a803e4401d44b8ed1bae1c7baaad1a62a7200010481d866820086581c87b0f19de5536210b8b99f4dce72713fbe8e6047aa2ef022233cb1d61a05f5e100581c49f565e692cbecf4b38a94df1dcc21635a07222efd4dafb470fa40574b416e64656c733034373733581c9ba63cdec15c28d1d5430eb6c8e2ee92e7c0c16b8429f8c6b01c0dce18190581840000d866820180821a006acfc01ab2d05e00f5a0')
const data = deconstructTx('84a400838258206a3e6009314a789d35a9617888d3df7addcdbc8048dc847ab0f937973cf2774500825820b17893ce1a160ac1b89382e34dfab88d9d6027e2e69a88eb70dde8ebe57f4cee00825820dae4ea5c8d00a4e0d179bab3e4084078422719ea28854b76ba05a8af1997105801018382583901616d4b64fe05c2123778f2f1bbc314c5a16d411e33f8e5c2ec07f9228abe410594b10054023ee12edaac29575852588dde6c2cb5353465ca1a002f4d6082583901b447c005ebd1817abb21800fefaf66c03e149e9485ca29abd1774c5bc6f3fd5c36c9725a3cc6e817c75eeb714a142122ec7b322540848f271a0061d9c982583901b447c005ebd1817abb21800fefaf66c03e149e9485ca29abd1774c5bc6f3fd5c36c9725a3cc6e817c75eeb714a142122ec7b322540848f278205a1581cf7c777fdd4531cf1c477551360e45b9684073c05c2fa61334f8f9adda14d5665726974726565546f6b656e05021a0002d535075820f1712efafaf1f4f979e7fc6094cd4bfb9174e53256ba6f363d8368922a2ccc39a1008182582082a85d8577601bd5ed9572ff4b6d675957b96067153f69b17be6441ebb657aa85840a7829242ab422d6f449e5be8d861a2c5a43ef72ae65ccbb9e5ecd28e985975217d03528c09283d6642e9fae858d005666bce6ee4d02ba617a596485fd1aac902f5a200a167776562736974657168747470733a2f2f4e46544a616d2e696f0178347b226d657373616765223a2022486967682d76656c6f636974792043617264616e6f204e4654206d61726b6574706c6163652e22');
console.log(JSON.stringify(data))

// const hex = constructTx(value);
// console.log(hex);
// console.log(hex == buyTx);

// console.log(datumJson.());

// build tx
// const ps = cardano.PlutusScript.from_bytes(hexToBytes(plutusHex))
// const transactionWitnessSet = cardano.TransactionWitnessSet.new();


// console.log(ps);

